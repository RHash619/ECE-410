T = 2-(-2);
step = T/4000 ;
t = -2:step:2;
p1 = (t>=-2) & (t<-1);
p2 = (t>=-1) & (t<0);
p3 = (t>=0) & (t<=1);
p4 = (t>=1) & (t<=2);
g = p1.*(cos(pi*t)/2)+p2.*(t.^3+1)+p3.*(1) +p4.*(sin(2*pi*t)+1);

plot(t,g)